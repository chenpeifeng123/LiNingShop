"use strict";$(function(){$("#usernameID").val("zs"),$("#passwordA,#passwordB").val("123"),$("#phoneID").val("18689429781");var options={usernameID:{reg:"/^[a-zA-Z]{2,6}$/.test(val)",msg:"用户名不规范！"},phoneID:{reg:"/^1[3-9]\\d{9}$/.test(val)",msg:"手机号码不规范！"},passwordA:{reg:"/^[a-zA-Z0-9]{3,6}$/.test(val)",msg:"密码不规范！"},passwordB:{reg:'$.trim($("#passwordA").val()) == val',msg:"两次输入的密码不一致！！！"},imageCode:{reg:"imgCodeTarget == val",msg:"输入的验证码不正确！！！"}},imgCodeTarget;$(".SmsValid input").blur(function(){var action=this.id,val=$.trim($(this).val());console.log(options[action]),eval(options[action].reg)?($(this).next().text(""),$(this).parents(".form-item").removeClass("form-group-error")):($(this).next().text(options[action].msg),$(this).parents(".form-item").addClass("form-group-error"))});var captcha=new Captcha({lineNum:10,dotNum:3,fontSize:40,length:4,content:"012345432424542"});captcha.draw(document.querySelector("#captcha"),function(e){imgCodeTarget=e,console.log(e,"验证码1"),$("#imageCode").trigger("blur")}),$("#registerBtn").click(function(){var e;$("#usernameID,#phoneID,#imageCode,#passwordB,#passwordA").trigger("blur"),0==$(".form-group-error").length&&($("#protocol").is(":checked")?(e={username:$.trim($("#usernameID").val()),password:md5($.trim($("#passwordA").val())).substr(0,10),phone:$.trim($("#phoneID").val())},$.ajax({data:e,type:"get",dataType:"json",url:"../../server/register.php",success:function(e){"success"==e.status?(alert(e.msg),window.location.href="http://www.baidu.com"):alert(e.msg)}})):alert("请阅读并同意用户协议！"))})});